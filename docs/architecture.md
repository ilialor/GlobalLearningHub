# Архитектура проекта GlobalAcademy

Этот документ описывает архитектуру многоязычной персонализированной обучающей платформы GlobalAcademy.

## Обзор

Проект использует монорепозиторий (monorepo) структуру, разделяя код на три основные части:

-   `/client`: Фронтенд-приложение (React SPA)
-   `/server`: Бэкенд-приложение (Node.js/Express API)
-   `/shared`: Общий код, используемый как фронтендом, так и бэкендом

## Фронтенд (`/client`)

Фронтенд представляет собой одностраничное приложение (SPA), построенное с использованием React и TypeScript.

### Ключевые технологии и библиотеки:

-   **Фреймворк/Язык**: React, TypeScript
-   **Стилизация**: Tailwind CSS
-   **UI Компоненты**: shadcn/ui
-   **Управление состоянием и кэширование API**: TanStack Query
-   **Маршрутизация**: Wouter
-   **Интернационализация (i18n)**: i18next
-   **Формы**: React Hook Form

### Структура директорий:

-   `/src/components`: Переиспользуемые React-компоненты
-   `/src/pages`: Компоненты, представляющие отдельные страницы приложения
-   `/src/hooks`: Пользовательские хуки React
-   `/src/lib`: Вспомогательные функции и утилиты
-   `/src/locales`: Файлы локализации (переводы)

## Бэкенд (`/server`)

Бэкенд построен на Node.js с использованием фреймворка Express и предоставляет RESTful API для фронтенда.

### Ключевые технологии и библиотеки:

-   **Фреймворк**: Node.js, Express
-   **Тип API**: RESTful
-   **Взаимодействие с БД**: Drizzle ORM
-   **База данных**: PostgreSQL (для постоянного хранения) / In-Memory Storage (для разработки)
-   **Интеграция с ИИ**: OpenAI API (для генерации викторин, обратной связи и т.д.)

### Структура директорий/файлов:

-   `/services`: Сервисы, инкапсулирующие бизнес-логику
-   `/routes.ts`: Определение маршрутов API
-   `/storage.ts`: Логика взаимодействия с хранилищем данных (БД или in-memory)

## Общий код (`/shared`)

Эта директория содержит код, который используется как фронтендом, так и бэкендом, обеспечивая согласованность типов и схем данных.

### Содержимое:

-   Определения типов TypeScript
-   Схемы данных (например, для валидации или ORM)

### Ключевые файлы:

-   `/schema.ts`: Основной файл для определения общих схем и типов.

## Поток данных

1.  **Пользовательский интерфейс (Клиент)**: Пользователь взаимодействует с React-приложением в браузере.
2.  **API Запросы (Клиент -> Сервер)**: Фронтенд отправляет HTTP-запросы (GET, POST, PUT, DELETE) к RESTful API бэкенда для получения или изменения данных.
3.  **Обработка запросов (Сервер)**: Express-приложение принимает запросы, использует соответствующие сервисы для обработки бизнес-логики.
4.  **Взаимодействие с данными (Сервер)**: Сервисы взаимодействуют с базой данных (PostgreSQL или in-memory) через Drizzle ORM.
5.  **Внешние API (Сервер -> OpenAI)**: При необходимости сервер обращается к OpenAI API для выполнения задач, связанных с ИИ.
6.  **API Ответы (Сервер -> Клиент)**: Бэкенд отправляет ответы (обычно в формате JSON) обратно фронтенду.
7.  **Обновление UI (Клиент)**: Фронтенд получает данные и обновляет пользовательский интерфейс.

## Сборка и развертывание

-   **Сборка**: `vite.config.ts` используется для настройки сборки фронтенда.
-   **Развертывание**: Наличие файла `vercel.json` предполагает возможное использование Vercel для развертывания.

## Конфигурация

-   `tsconfig.json`: Конфигурация TypeScript.
-   `tailwind.config.ts`: Конфигурация Tailwind CSS.
-   `package.json`: Зависимости проекта и скрипты npm.
-   `.env`: Файл для хранения переменных окружения (например, ключи API). 